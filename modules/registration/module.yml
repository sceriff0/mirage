name: registration
description: "Collects preprocessed images and produces a single merged WSI (merged/merged_all.ome.tif)."
inputs:
  - name: preprocessed_images
    type: list[file]
    description: "List of preprocessed images to merge"
outputs:
  - name: merged_wsi
    path: merged/merged_all.ome.tif
    description: "Single merged whole-slide image produced by registration"
params:
  - name: qc_dir
    default: merged_qc
    description: "Directory to write QC images"
notes: |
  This module runs `scripts/register.py`. For now the script is a conservative
  implementation that will copy the first preprocessed file to the merged output
  when no advanced registration is available. Replace with a robust registration
  implementation as needed.
