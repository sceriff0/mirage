name: segmentation
description: "Segment nuclei (DAPI) and produce segmentation masks under segmentation/."
inputs:
  - name: merged_wsi
    type: file
    description: "Merged whole-slide image produced by registration"
outputs:
  - name: segmentation_mask
    path: segmentation/<basename>_segmentation.tif
    description: "Labeled segmentation mask (TIFF/NumPy)"
params:
  - name: seg_model
    default: cellpose
    description: "Name of segmentation model to use"
  - name: seg_gpu
    default: true
    description: "Whether to attempt to use GPU resources"
notes: |
  The segmentation module wraps `scripts/segment.py`. Provide a GPU-capable container
  if `seg_gpu` is true. Outputs are written to `segmentation/` with a predictable name.
