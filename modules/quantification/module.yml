name: quantification
description: "Quantify marker intensities per labeled cell and output CSV summary under quant/."
inputs:
  - name: merged_wsi
    type: file
    description: "Merged whole-slide image used to extract channel images"
  - name: segmentation_mask
    type: file
    description: "Segmentation mask (NumPy .npy or TIFF)"
outputs:
  - name: quant_csv
    path: quant/merged_quant.csv
    description: "CSV summary of cell-level marker intensities and morphology"
params:
  - name: quant_gpu
    default: false
    description: "Run quantification in gpu mode when true"
  - name: min_area
    default: 0
    description: "Minimum cell area filter (pixels)"
notes: |
  The module runs `scripts/quantify.py` with `--mode cpu|gpu` and writes a
  deterministic output file `quant/merged_quant.csv` consumed by downstream modules.
