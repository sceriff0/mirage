name: preprocessing
description: "Preprocess WSI inputs (illumination correction, tiling). Produces preprocessed images saved under preprocessed/."
inputs:
  - name: nd2file
    type: file
    description: "Raw multi-channel image file (e.g. .nd2, .ome.tif)"
outputs:
  - name: preprocessed_image
    path: preprocessed/<basename>.preproc.ome.tif
    description: "Preprocessed multi-channel image in HDF5/OMETIFF format"
params:
  - name: preproc_normalize
    default: true
    description: "Whether to normalize channels during preprocessing"
  - name: preproc_tile_size
    default: 512
    description: "Tile size used by the preprocessing stage"
notes: |
  The module executes `scripts/preprocess.py` and writes outputs to the `preprocessed/` directory.
  Keep CLI stable; avoid changing argument names because the module uses them in its script block.
